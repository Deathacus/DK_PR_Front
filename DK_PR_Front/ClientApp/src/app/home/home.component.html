<h1>Welcome to our posting-page!</h1>


<div *ngIf="userService !== null && userService !== undefined && userService.logedInUser !== null && userService.logedInUser !== undefined" class="input-group mb-3">
  <button (click)="emojiSelection()">Select emoji</button>
  <input type="text" class="form-control" placeholder="Post here..." aria-label="postMood" aria-describedby="basic-addon2" [(ngModel)]="postText">
  <button (click)="postIt()">Post</button>
</div>

<div class="searchBox">
  <div class="col-xs-6">
    <div class="input-group mb-3" style="padding-top: 32px">
      <div class="input-group-prepend">
        <span class="fa fa-search input-group-text" aria-hidden="true" id="basic-addon1"></span>
      </div>
      <input type="text" class="form-control" id="searchValue" placeholder="Search for posts by username or posted text..." [(ngModel)]="searchValue" aria-describedby="basic-addon1" style="width: 280px" />
    </div>
  </div>
</div>

<div class="searchBox">
  <div class="col-xs-6">
    <div class="input-group mb-3" style="padding-top: 32px">
      <div class="input-group-prepend">
        <span class="fa fa-search input-group-text" aria-hidden="true" id="basic-addon1"></span>
      </div>
      <input type="text" class="form-control" id="searchUserValue" placeholder="Search a User..." [(ngModel)]="searchUserValue" aria-describedby="basic-addon1" style="width: 280px" />
    </div>
  </div>
</div>

<div *ngIf="(userService !== null && userService !== undefined && userService.logedInUser !== null && userService.logedInUser !== undefined) && (searchUserValue !== null && searchUserValue !== undefined)">
  <div class="wrapper">
    <div class="table-responive tableDesign">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>
              Found Users match search term
            </th>
          </tr>
        </thead>
        <tbody >
          <tr *ngFor="let user of displayUsers">
            <td>
              <button class="btn btn-default col-xs-10 col-xs-offset tableBtn" (click)="routToUserpage(user.username)">{{user.username}}</button>
            </td>
            <td>
            </td>
            <td>
            </td>
            <td>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div *ngIf="logedInUser === null || logedInUser === undefined">

  <h2>Please Log In to start posting</h2>

</div>

<div *ngIf="userService !== null && userService !== undefined && userService.logedInUser !== null && userService.logedInUser !== undefined && displayEmojis === true">
  <emoji-mart title="Pick your emojiâ€¦" (emojiClick)="select($event)"></emoji-mart>
</div>


<div *ngIf="userService !== null && userService !== undefined && userService.logedInUser !== null && userService.logedInUser !== undefined" class="content">
  <div class="wrapper">
    <div class="table-responive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>
              Posted text...
            </th>
            <th>
              Posted emoji...
            </th>
            <th>
              Posted on...
            </th>
            <th>
              Posted by...
            </th>
          </tr>
        </thead>
        <tbody >
          <tr *ngFor="let post of displayPosts">
            <td>
              {{post.postText}}
            </td>
            <td>
              {{post.emojiName}}
            </td>
            <td>
              {{post.date}}
            </td>
            <td>
              <button class="btn btn-default col-xs-10 col-xs-offset tableBtn" (click)="routToUserpage(post.userName)">{{post.userName}}</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


